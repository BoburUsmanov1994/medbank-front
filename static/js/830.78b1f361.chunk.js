"use strict";(self.webpackChunkmedbank=self.webpackChunkmedbank||[]).push([[830],{54179:function(e,t,a){var l=a(72791),n=a(10658),s=a(28182),r=a(80184);t.Z=function(e){var t=e.children,a=e.onClose,i=void 0===a?function(){}:a,o=e.open,c=void 0!==o&&o,u=e.title,d=void 0===u?"":u,v=e.classNames,m=void 0===v?"":v;return(0,l.useEffect)((function(){document.body.style.overflow=c?"hidden":"auto"}),[c]),(0,r.jsx)(r.Fragment,{children:c&&(0,r.jsxs)("div",{className:"h-screen fixed top-0 left-0 w-full z-50",children:[(0,r.jsx)("div",{onClick:i,className:"absolute top-0 left-0 h-full w-full z-5 bg-[#d9d9d9ab]"}),(0,r.jsxs)("div",{className:(0,s.Z)("bg-white p-6 z-10 absolute top-1/2 left-1/2 w-[500px] -translate-x-1/2 -translate-y-1/2 rounded shadow-card max-h-[85vh] overflow-y-auto",m),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:d}),(0,r.jsx)(n.Z,{onClick:i,className:"absolute right-3 top-3 cursor-pointer"})]}),t]})]})})}},70188:function(e,t,a){a.d(t,{D5:function(){return o},H$:function(){return u},Iu:function(){return r},U_:function(){return d},Up:function(){return c},gg:function(){return i}});var l=a(763),n=a(97892),s=a.n(n),r=(0,l.range)(2e3,s()().add(1,"year").format("YYYY")).map((function(e){return{value:e,label:e}})),i=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],o=[{value:15,label:"15"},{value:25,label:"25"},{value:50,label:"50"}],c=[{value:1,label:"Andijon viloyati"},{value:2,label:"Buxoro viloyati"},{value:3,label:"Jizzax viloyati"},{value:4,label:"Qashqadaryo viloyati"},{value:5,label:"Navoiy viloyati"},{value:6,label:"Namangan viloyati"},{value:7,label:"Samarqand viloyati"},{value:8,label:"Surxandaryo viloyati"},{value:9,label:"Sirdaryo viloyati"},{value:10,label:"Toshkent shahri"},{value:11,label:"Toshkent viloyati"},{value:12,label:"Farg'ona viloyati"},{value:13,label:"Xorazm viloyati"},{value:14,label:"Qoraqalpog'iston Respublikasi"}],u={patient_general_practitioner_report:"patient_general_practitioner_report",statistical_form_066_report:"statistical_form_066_report"},d={success:"success",failed:"failed",pending:"pending"}},60179:function(e,t,a){a.d(t,{Z:function(){return F}});var l=a(1413),n=a(29439),s=a(72791),r=a(94502),i=a(63917),o=a(28182),c=a(763),u=a(57689),d=a(78076),v=a(70188),m=a(96048),x=a.n(m);var f=a.p+"static/media/prev.0ba7b31192ae832f345d4a127d088f8d.svg";var g=a.p+"static/media/next.bebff1c891b224785dd8a6b5e39612fd.svg",p=a(39230),h=a(80184),b=function(){var e=(0,p.$G)().t;return(0,h.jsx)("div",{className:"p-5 pt-7 text-center font-semibold",children:e("No data")})},y=a(54179),j=a(59828),N=a(38965),k=a(84965),w=a(21830),Z=a.n(w),C=a(46671),_=a.n(C),F=function(e){var t=e.url,a=void 0===t?"/":t,m=e.viewUrl,w=void 0===m?null:m,C=e.listKey,F=void 0===C?"":C,E=e.params,S=void 0===E?{}:E,z=e.filters,A=void 0===z?null:z,B=e.columns,D=void 0===B?[]:B,L=e.onRowClick,T=void 0===L?function(){}:L,U=e.doubleRow,Y=void 0!==U&&U,K=e.modalClassNames,M=void 0===K?"":K,R=e.hasActionColumn,I=void 0!==R&&R,q=e.ModalBody,$=void 0===q?null:q,H=e.openCreateModal,J=void 0!==H&&H,V=e.setOpenCreateModal,G=void 0===V?function(){}:V,O=e.dataKey,P=void 0===O?"data.data":O,Q=e.rowKey,X=void 0===Q?"id":Q,W=e.doubleScrollbar,ee=void 0!==W&&W,te=(0,s.useState)(1),ae=(0,n.Z)(te,2),le=ae[0],ne=ae[1],se=(0,s.useState)(null),re=(0,n.Z)(se,2),ie=re[0],oe=re[1],ce=(0,s.useState)(null),ue=(0,n.Z)(ce,2),de=ue[0],ve=ue[1],me=(0,s.useState)({value:50,label:"50"}),xe=(0,n.Z)(me,2),fe=xe[0],ge=xe[1],pe=(0,p.$G)().t,he=(0,r.i7)({key:F,url:a,params:{params:(0,l.Z)((0,l.Z)({},S),{},{page:le,per_page:(0,c.get)(fe,"value")})}}),be=he.data,ye=he.isLoading,je=he.isError,Ne=(0,r.xq)({id:ie,key:[F,ie],url:null!==w&&void 0!==w?w:a,enabled:!!ie}),ke=Ne.data,we=void 0===ke?{}:ke,Ze=Ne.isLoading,Ce=(0,r.n7)({listKeyId:F}),_e=Ce.mutate,Fe=Ce.isLoading,Ee=(0,k.Z)({listKeyId:F}),Se=Ee.mutate,ze=Ee.isLoading,Ae=(0,r.V0)({listKeyId:F}),Be=Ae.mutate,De=Ae.isLoading,Le=function(e){var t=e.data,l=e.setError,n=e.reset;!J&&ie?Se({url:"".concat(null!==w&&void 0!==w?w:a,"/").concat((0,c.get)(t,X)),attributes:(0,c.omit)(t,X)},{onSuccess:function(){oe(null),n()},onError:function(e){(0,c.forEach)((0,c.get)(e,"response.data.errors",{}),(function(e,t){l(t,{type:"validation",message:(0,c.head)(e)})}))}}):_e({url:a,attributes:t},{onSuccess:function(){G(!1),n()},onError:function(e){(0,c.forEach)((0,c.get)(e,"response.data.errors",{}),(function(e,t){l(t,{type:"validation",message:(0,c.head)(e)})}))}})},Te=function(e){Z().fire({position:"center",icon:"error",backdrop:"rgba(0,0,0,0.9)",background:"none",title:pe("Are you sure?"),showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#F25886",cancelButtonColor:"#006D85",confirmButtonText:pe("Delete"),cancelButtonText:pe("Cancel"),customClass:{title:"title-color"}}).then((function(t){t.isConfirmed&&Be({url:"".concat(null!==w&&void 0!==w?w:a,"/").concat(e)})}))};return je?(0,h.jsx)(u.Fg,{to:"/error"}):ye?(0,h.jsx)(i.E,{}):(0,h.jsxs)("div",{className:"bg-white py-4 px-7 shadow-box",children:[(0,h.jsx)("div",{className:"relative z-20",children:A}),(0,h.jsx)("div",{className:"max-h-[75vh] overflow-y-auto ",children:ee?(0,h.jsx)(_(),{children:(0,h.jsxs)("table",{className:"table relative   border border-[#E6E6E6] rounded-lg",children:[(0,h.jsx)("thead",{className:"thead sticky top-0 z-10 bg-white",children:(0,h.jsxs)("tr",{className:"tr",children:[D&&D.map((function(e,t){return(0,h.jsx)("th",{className:(0,o.Z)("th",(0,c.get)(e,"classnames",""),{"sticky left-0 z-50 bg-white":0===t}),children:(0,c.get)(e,"title")},(0,c.get)(e,"title"))})),I&&(0,h.jsx)("th",{className:"th text-center",children:pe("Actions")})]})}),(0,h.jsx)("tbody",{className:"tbody",children:(0,c.get)(be,P,[]).length>0?(0,c.get)(be,P,[]).map((function(e,t){return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("tr",{onClick:function(){return T(e)},className:"tr",children:[D.map((function(a,l){return(0,h.jsx)("td",{className:(0,o.Z)("td",(0,c.get)(a,"classnames",""),{"!px-0":Y},{"sticky left-0 z-50 bg-white !hover:bg-[#E6F1F3]":0===l}),children:(0,c.get)(a,"render")?(0,c.get)(a,"render")({value:(0,c.get)(e,(0,c.get)(a,"key")),row:e,index:t+(le-1)*fe+1}):(0,c.get)(e,(0,c.get)(a,"key"))},(0,c.get)(a,"key",l))})),I&&(0,h.jsxs)("td",{className:"td flex justify-center !max-w-full",children:[(0,h.jsx)(j.Z,{className:"mx-3.5",color:"#2F68FC",size:22,onClick:function(){return oe((0,c.get)(e,X))}}),(0,h.jsx)(N.Z,{onClick:function(){return Te((0,c.get)(e,X))},color:"#F25886",size:24})]})]},(0,c.get)(e,(0,c.get)(D,"[0].key",t)))})})):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:(null===D||void 0===D?void 0:D.length)||12,children:(0,h.jsx)(b,{})})})})]})}):(0,h.jsxs)("table",{className:"table relative   border border-[#E6E6E6] rounded-lg",children:[(0,h.jsx)("thead",{className:"thead sticky top-0 z-10 bg-white",children:(0,h.jsxs)("tr",{className:"tr",children:[D&&D.map((function(e,t){return(0,h.jsx)("th",{className:(0,o.Z)("th",(0,c.get)(e,"classnames",""),{"sticky left-0 z-50 bg-white":0===t}),children:(0,c.get)(e,"title")},(0,c.get)(e,"title"))})),I&&(0,h.jsx)("th",{className:"th text-center",children:pe("Actions")})]})}),(0,h.jsx)("tbody",{className:"tbody",children:(0,c.get)(be,P,[]).length>0?(0,c.get)(be,P,[]).map((function(e,t){return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("tr",{onClick:function(){ve(t),T(e)},className:(0,o.Z)("tr group",{selected:t===de}),children:[D.map((function(a,l){return(0,h.jsx)("td",{className:(0,o.Z)("td",(0,c.get)(a,"classnames",""),{"!px-0":Y},{"sticky left-0 z-50 bg-white":0===l}),children:(0,c.get)(a,"render")?(0,c.get)(a,"render")({value:(0,c.get)(e,(0,c.get)(a,"key")),row:e,index:t+(le-1)*fe+1}):(0,c.get)(e,(0,c.get)(a,"key"))},(0,c.get)(a,"key",l))})),I&&(0,h.jsxs)("td",{className:"td flex justify-center !max-w-full",children:[(0,h.jsx)(j.Z,{className:"mx-3.5",color:"#2F68FC",size:22,onClick:function(){return oe((0,c.get)(e,X))}}),(0,h.jsx)(N.Z,{onClick:function(){return Te((0,c.get)(e,X))},color:"#F25886",size:24})]})]},(0,c.get)(e,(0,c.get)(D,"[0].key",t)))})})):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:(null===D||void 0===D?void 0:D.length)||12,children:(0,h.jsx)(b,{})})})})]})}),(0,c.get)(be,"data.meta.total")>0&&(0,h.jsxs)("div",{className:"flex mt-3 justify-between items-center",children:[(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(d.Z,{isClearable:!1,sm:!0,value:fe,setValue:ge,options:v.D5}),(0,h.jsxs)("span",{className:"ml-3 text-secondary-300 text-sm font-semibold",children:[pe("Show")," 1-",(0,c.get)(fe,"value",0)," ",pe("from")," ",(0,c.get)(be,"data.meta.total",0)]})]}),(0,h.jsx)(x(),{forcePage:le-1,onPageChange:function(e){var t=e.selected;return ne(t+1)},pageCount:(0,c.ceil)((0,c.get)(be,"data.meta.total",0)/(0,c.get)(fe,"value",1)),nextLabel:(0,h.jsx)("img",{src:g,alt:"next"}),previousLabel:(0,h.jsx)("img",{src:f,alt:"prev"}),className:"pagination"})]}),(0,h.jsxs)(y.Z,{onClose:function(){G(!1),oe(null)},classNames:M,title:pe(J?"Create":"Update"),open:!(!J&&!ie),children:[Fe&&(0,h.jsx)(i.p,{}),ze&&(0,h.jsx)(i.p,{}),De&&(0,h.jsx)(i.p,{}),J?$(Le,we):Ze?(0,h.jsx)(i.p,{}):$(Le,we)]})]})}},91830:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var l=a(72791),n=a(1413),s=a(29439),r=a(72509),i=a(60179),o=a(18720),c=a(48665),u=a(39230),d=a(78076),v=a(70188),m=a(763),x=a(40077),f=a(8347),g=a(97892),p=a.n(g),h=a(28182),b=a(80184),y=function(e){var t=e.children,a=e.status,l=void 0===a?"success":a;return(0,b.jsx)("span",{className:(0,h.Z)("py-1 px-3 rounded-2xl font-semibold bg-[#FEF5ED] text-[#F2994A]",{"!bg-[#EAF7F0] !text-[#27AE60]":l==v.U_.success,"!bg-red-100 !text-[#EB5757]":l==v.U_.failed}),children:t})},j=function(){var e=(0,u.$G)().t,t=(0,f.Z)({}).token,a=(0,l.useState)({reportType:null,reportStatus:null}),g=(0,s.Z)(a,2),h=g[0],j=g[1],N=[{title:"ID",key:"id",classnames:"!w-[80px] !min-w-0"},{title:e("File name"),key:"file_name",render:function(e){var a=e.row;return(0,m.isEqual)((0,m.get)(a,"status"),v.U_.success)?(0,b.jsx)("a",{className:"text-blue-700",href:"".concat(x.Z.FILE_URL,"api/reports/").concat((0,m.get)(a,"id"),"?token=").concat(t),target:"_self",children:(0,m.get)(a,"file_name")}):(0,b.jsx)("span",{className:"text-red-600",children:(0,m.get)(a,"file_name")})}},{title:e("Report type"),key:"type"},{title:e("Report status"),key:"status",render:function(e){var t=e.value;return(0,b.jsx)(y,{status:t,children:t})}},{title:e("Created date"),key:"created_at",render:function(e){var t=e.row;return p()((0,m.get)(t,"created_at")).format("DD-MM-YYYY HH:mm:ss")}}];return(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"grid grid-cols-12 items-center",children:[(0,b.jsx)("div",{className:"col-span-12",children:(0,b.jsx)(r.Z,{children:e("Reports")})}),(0,b.jsx)("div",{className:"col-span-12 mt-8",children:(0,b.jsx)(i.Z,{filters:(0,b.jsxs)("div",{className:"grid grid-cols-12 mb-5 gap-x-8",children:[(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(d.Z,{value:(0,m.get)(h,"reportType"),setValue:function(e){return j((function(t){return(0,n.Z)((0,n.Z)({},t),{},{reportType:e})}))},label:e("Type"),options:(0,m.keys)(v.H$).map((function(t){return{value:t,label:e(t)}}))})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsx)(d.Z,{value:(0,m.get)(h,"reportStatus"),setValue:function(e){return j((function(t){return(0,n.Z)((0,n.Z)({},t),{},{reportStatus:e})}))},label:e("Status"),options:(0,m.keys)(v.U_).map((function(t){return{value:t,label:e(t)}}))})})]}),listKey:o.t.reports,url:c.n.reports,params:{status:(0,m.get)(h,"reportStatus.value"),type:(0,m.get)(h,"reportType.value")},columns:N})})]})})},N=function(){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(j,{})})}}}]);
//# sourceMappingURL=830.78b1f361.chunk.js.map