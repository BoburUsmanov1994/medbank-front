"use strict";(self.webpackChunkmedbank=self.webpackChunkmedbank||[]).push([[638],{58525:function(e,t,a){a(72791);t.Z=a.p+"static/media/download.5c6fa236248d121782afeb4b8fd485fb.svg"},5745:function(e,t,a){a(72791);t.Z=a.p+"static/media/gender-female.803c024f65f7d961a3d4d63d9ab94784.svg"},18232:function(e,t,a){a(72791);t.Z=a.p+"static/media/gender-male.b99eb0c250b0e8d37d36ad2e2dcc0e32.svg"},55202:function(e,t,a){a(72791);t.Z=a.p+"static/media/select-arrow.ef735b9a48c75a4e5498f876e3b0888b.svg"},78076:function(e,t,a){var r=a(1413),s=(a(72791),a(93646)),n=a(38630),o=a(28182),i=a(55202),d=a(80184),l=function(e){return s.c.DropdownIndicator&&(0,d.jsx)(s.c.DropdownIndicator,(0,r.Z)((0,r.Z)({},e),{},{children:(0,d.jsx)("img",{src:i.Z,alt:"arrow"})}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{control:function(t,a,s){return(0,r.Z)((0,r.Z)({},t),{},{background:"#fff",borderColor:"rgba(0, 0, 0, 0.1)",borderRadius:"8px",outline:"none",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",color:"#222",display:"flex",overflow:"hidden",padding:"4px 12px",width:e?"100px":"100%",minWidth:e?"80px":"200px",minHeight:"48px",fontSize:"16px",fontWeight:"600","&:hover":{borderColor:"#006D85",outline:"none"},"&:focus":{borderColor:"#006D85",outline:"none"}})},indicatorSeparator:function(e,t){return(0,r.Z)((0,r.Z)({},e),{},{display:"none"})}}};t.Z=function(e){var t=e.name,a=void 0===t?"":t,r=e.value,s=void 0===r?null:r,i=e.sm,u=void 0!==i&&i,p=e.label,x=void 0===p?"":p,h=e.options,m=void 0===h?[]:h,v=e.setValue,b=void 0===v?function(){}:v,f=e.isClearable,g=void 0===f||f;return(0,d.jsxs)("div",{className:(0,o.Z)({"flex items-center":u}),children:[x&&(0,d.jsxs)("label",{className:(0,o.Z)("mb-1.5 text-secondary-300 font-bold flex items-center"),htmlFor:x,children:[x,(0,d.jsx)("span",{className:"ml-1.5 inline-block bg-[#006D85] w-1.5 h-1.5 rounded-full"})]}),(0,d.jsx)(n.ZP,{isClearable:g,name:a,clearIndicator:!0,styles:c(u),id:x,value:s,onChange:b,options:m,components:{DropdownIndicator:l},placeholder:u?"":"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"})]})}},61087:function(e,t,a){a.d(t,{Z:function(){return C}});var r=a(1413),s=a(29439),n=a(72791),o=a(94502),i=a(63917),d=a(28182),l=a(763),c=a(57689),u=a(78076),p=a(70188),x=a(96048),h=a.n(x);var m=a.p+"static/media/prev.0ba7b31192ae832f345d4a127d088f8d.svg";var v=a.p+"static/media/next.bebff1c891b224785dd8a6b5e39612fd.svg",b=a(39230),f=a(80184),g=function(){var e=(0,b.$G)().t;return(0,f.jsx)("div",{className:"p-5 pt-7 text-center font-semibold",children:e("No data")})},j=a(10658),y=function(e){var t=e.children,a=e.onClose,r=void 0===a?function(){}:a,s=e.open,o=void 0!==s&&s,i=e.title,l=void 0===i?"":i,c=e.classNames,u=void 0===c?"":c;return(0,n.useEffect)((function(){document.body.style.overflow=o?"hidden":"auto"}),[o]),(0,f.jsx)(f.Fragment,{children:o&&(0,f.jsxs)("div",{className:"h-screen fixed top-0 left-0 w-full z-50",children:[(0,f.jsx)("div",{onClick:r,className:"absolute top-0 left-0 h-full w-full z-5 bg-[#d9d9d9ab]"}),(0,f.jsxs)("div",{className:(0,d.Z)("bg-white p-6 z-10 absolute top-1/2 left-1/2 w-[500px] -translate-x-1/2 -translate-y-1/2 rounded shadow-card max-h-[85vh] overflow-y-auto",u),children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-bold mb-6",children:l}),(0,f.jsx)(j.Z,{onClick:r,className:"absolute right-3 top-3 cursor-pointer"})]}),t]})]})})},N=a(59828),w=a(38965),k=a(84965),_=a(21830),Z=a.n(_),C=function(e){var t=e.url,a=void 0===t?"/":t,x=e.viewUrl,j=void 0===x?null:x,_=e.listKey,C=void 0===_?"":_,S=e.params,D=void 0===S?{}:S,T=e.filters,E=void 0===T?null:T,F=e.columns,I=void 0===F?[]:F,B=e.onRowClick,K=void 0===B?function(){}:B,L=e.doubleRow,R=void 0!==L&&L,z=e.modalClassNames,M=void 0===z?"":z,$=e.hasActionColumn,A=void 0!==$&&$,G=e.ModalBody,P=void 0===G?null:G,V=e.openCreateModal,H=void 0!==V&&V,O=e.setOpenCreateModal,U=void 0===O?function(){}:O,W=e.dataKey,X=void 0===W?"data.data":W,q=e.rowKey,J=void 0===q?"id":q,Q=(0,n.useState)(1),Y=(0,s.Z)(Q,2),ee=Y[0],te=Y[1],ae=(0,n.useState)(null),re=(0,s.Z)(ae,2),se=re[0],ne=re[1],oe=(0,n.useState)({value:15,label:"15"}),ie=(0,s.Z)(oe,2),de=ie[0],le=ie[1],ce=(0,b.$G)().t,ue=(0,o.i7)({key:C,url:a,params:{params:(0,r.Z)((0,r.Z)({},D),{},{page:ee,per_page:(0,l.get)(de,"value")})}}),pe=ue.data,xe=ue.isLoading,he=ue.isError,me=(0,o.xq)({id:se,key:[C,se],url:null!==j&&void 0!==j?j:a,enabled:!!se}),ve=me.data,be=void 0===ve?{}:ve,fe=me.isLoading,ge=(0,o.n7)({listKeyId:C}),je=ge.mutate,ye=ge.isLoading,Ne=(0,k.Z)({listKeyId:C}),we=Ne.mutate,ke=Ne.isLoading,_e=(0,o.V0)({listKeyId:C}),Ze=_e.mutate,Ce=_e.isLoading,Se=function(e){var t=e.data,r=e.setError,s=e.reset;!H&&se?we({url:"".concat(null!==j&&void 0!==j?j:a,"/").concat((0,l.get)(t,J)),attributes:(0,l.omit)(t,J)},{onSuccess:function(){ne(null),s()},onError:function(e){(0,l.forEach)((0,l.get)(e,"response.data.errors",{}),(function(e,t){r(t,{type:"validation",message:(0,l.head)(e)})}))}}):je({url:a,attributes:t},{onSuccess:function(){U(!1),s()},onError:function(e){(0,l.forEach)((0,l.get)(e,"response.data.errors",{}),(function(e,t){r(t,{type:"validation",message:(0,l.head)(e)})}))}})};return he?(0,f.jsx)(c.Fg,{to:"/error"}):xe?(0,f.jsx)(i.E,{}):(0,f.jsxs)("div",{className:"bg-white py-4 px-7 shadow-box",children:[E,(0,f.jsx)("div",{style:{transform:"rotateX(180deg)"},className:"overflow-x-auto max-h-[75vh] overflow-y-auto border border-[#E6E6E6] rounded-lg",children:(0,f.jsxs)("table",{style:{transform:"rotateX(180deg)"},className:"table",children:[(0,f.jsx)("thead",{className:"thead",children:(0,f.jsxs)("tr",{className:"tr",children:[I&&I.map((function(e){return(0,f.jsx)("th",{className:(0,d.Z)("th",(0,l.get)(e,"classnames","")),children:(0,l.get)(e,"title")},(0,l.get)(e,"title"))})),A&&(0,f.jsx)("th",{className:"th text-center",children:ce("Actions")})]})}),(0,f.jsx)("tbody",{className:"tbody",children:(0,l.get)(pe,X,[]).length>0?(0,l.get)(pe,X,[]).map((function(e,t){return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("tr",{onClick:function(){return K(e)},className:"tr",children:[I.map((function(a,r){return(0,f.jsx)("td",{className:(0,d.Z)("td",(0,l.get)(a,"classnames",""),{"!px-0":R}),children:(0,l.get)(a,"render")?(0,l.get)(a,"render")({value:(0,l.get)(e,(0,l.get)(a,"key")),row:e,index:t+(ee-1)*de+1}):(0,l.get)(e,(0,l.get)(a,"key"))},(0,l.get)(a,"key",r))})),A&&(0,f.jsxs)("td",{className:"td flex justify-center !max-w-full",children:[(0,f.jsx)(N.Z,{className:"mx-3.5",color:"#2F68FC",size:22,onClick:function(){return ne((0,l.get)(e,J))}}),(0,f.jsx)(w.Z,{onClick:function(){return t=(0,l.get)(e,J),void Z().fire({position:"center",icon:"error",backdrop:"rgba(0,0,0,0.9)",background:"none",title:ce("Are you sure?"),showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#F25886",cancelButtonColor:"#006D85",confirmButtonText:ce("Delete"),cancelButtonText:ce("Cancel"),customClass:{title:"title-color"}}).then((function(e){e.isConfirmed&&Ze({url:"".concat(null!==j&&void 0!==j?j:a,"/").concat(t)})}));var t},color:"#F25886",size:24})]})]},(0,l.get)(e,(0,l.get)(I,"[0].key",t)))})})):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:(null===I||void 0===I?void 0:I.length)||12,children:(0,f.jsx)(g,{})})})})]})}),(0,l.get)(pe,"data.meta.total")>0&&(0,f.jsxs)("div",{className:"flex mt-3 justify-between items-center",children:[(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(u.Z,{isClearable:!1,sm:!0,value:de,setValue:le,options:p.D5}),(0,f.jsxs)("span",{className:"ml-3 text-secondary-300 text-sm font-semibold",children:[ce("Show")," 1-",(0,l.get)(de,"value",0)," ",ce("from")," ",(0,l.get)(pe,"data.meta.total",0)]})]}),(0,f.jsx)(h(),{forcePage:ee-1,onPageChange:function(e){var t=e.selected;return te(t+1)},pageCount:(0,l.ceil)((0,l.get)(pe,"data.meta.total",0)/(0,l.get)(de,"value",1)),nextLabel:(0,f.jsx)("img",{src:v,alt:"next"}),previousLabel:(0,f.jsx)("img",{src:m,alt:"prev"}),className:"pagination"})]}),(0,f.jsxs)(y,{onClose:function(){U(!1),ne(null)},classNames:M,title:ce(H?"Create":"Update"),open:!(!H&&!se),children:[ye&&(0,f.jsx)(i.p,{}),ke&&(0,f.jsx)(i.p,{}),Ce&&(0,f.jsx)(i.p,{}),H?P(Se,be):fe?(0,f.jsx)(i.p,{}):P(Se,be)]})]})}},50638:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});a(72791);var r=a(72509),s=a(61087),n=a(18720),o=a(48665),i=a(763),d=a(58525),l=a(30948),c=a(57689),u=a(5745),p=a(18232),x=a(39230),h=a(94502),m=a(63917),v=a(70188),b=a(80184),f=function(){var e=(0,c.s0)(),t=(0,x.$G)().t,a=(0,h.n7)({listKeyId:n.t.reports}),f=a.mutate,g=a.isLoading,j=[{title:t("Month"),key:"month",render:function(e){var t=e.value;return(0,b.jsx)("span",{className:"px-3",children:t})}},{title:"<1",key:"patient_groups.code",render:function(e){var t=e.row;return(0,b.jsxs)("div",{className:"text-left ",children:[(0,b.jsxs)("div",{className:"px-3  pb-2.5 border-b border-dashed border-b-[#006D85] ",children:[(0,b.jsx)("span",{className:"bg-[#D9D9D9] inline-block rounded-[20px] px-2 py-1 text-xs font-semibold text-black mr-14",children:"\u041d\u0430\u0441."}),(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[0].count",0),2)})]}),(0,b.jsxs)("div",{className:"pt-2.5 px-3 ",children:[(0,b.jsx)("span",{className:"bg-[#D9D9D9] inline-block rounded-[20px] px-2 py-1 text-xs font-semibold text-black mr-10 ",children:"\u0421\u0443\u043c\u043c\u0430."}),(0,b.jsx)(l.h3,{className:"",thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[0].payment",0),2)})]})]})}},{title:"1-5",key:"patient_groups",render:function(e){var t=e.row;return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[1].count",0),2)})}),(0,b.jsx)("div",{className:"pt-2.5 ",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[1].payment",0),2)})})]})}},{title:"6-14",key:"patient_groups",render:function(e){var t=e.row;return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[2].count",0),2)})}),(0,b.jsx)("div",{className:"pt-2.5",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[2].payment",0),2)})})]})}},{title:(0,b.jsxs)("span",{className:"inline-flex items-center",children:["15-39F ",(0,b.jsx)("img",{src:u.Z,alt:"female"})]}),key:"patient_groups",render:function(e){var t=e.row;return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[3].count",0),2)})}),(0,b.jsx)("div",{className:"pt-2.5",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[3].payment",0),2)})})]})}},{title:(0,b.jsxs)("span",{className:"inline-flex items-start",children:["15-39M ",(0,b.jsx)("img",{src:p.Z,alt:"male"})]}),key:"patient_groups",render:function(e){var t=e.row;return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85] ",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[4].count",0),2)})}),(0,b.jsx)("div",{className:"pt-2.5",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[4].payment",0),2)})})]})}},{title:(0,b.jsxs)("span",{className:"inline-flex items-center",children:["40-49F ",(0,b.jsx)("img",{src:u.Z,alt:"female"})]}),key:"patient_groups",render:function(e){var t=e.row;return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[5].count",0),2)})}),(0,b.jsx)("div",{className:"pt-2.5 ",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[5].payment",0),2)})})]})}},{title:(0,b.jsxs)("span",{className:"inline-flex items-start",children:["40-49M ",(0,b.jsx)("img",{src:p.Z,alt:"male"})]}),key:"patient_groups",render:function(e){var t=e.row;return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[6].count",0),2)})}),(0,b.jsx)("div",{className:"pt-2.5 ",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[6].payment",0),2)})})]})}},{title:"50-65",key:"patient_groups",render:function(e){var t=e.row;return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[7].count",0),2)})}),(0,b.jsx)("div",{className:"pt-2.5 ",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[7].payment",0),2)})})]})}},{title:"65<",key:"patient_groups",render:function(e){var t=e.row;return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[8].count",0),2)})}),(0,b.jsx)("div",{className:"pt-2.5 ",children:(0,b.jsx)(l.h3,{thousandSeparator:" ",displayType:"text",value:(0,i.round)((0,i.get)(t,"patient_groups[8].payment",0),2)})})]})}},{title:(0,b.jsxs)("div",{className:"flex justify-around",children:[(0,b.jsxs)("span",{className:"mr-10 ml-3",children:[t("By groups")," "]}),(0,b.jsx)("span",{className:"mr-3",children:t("In count")})]}),key:"organization_level",render:function(e){var t=e.row;return(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85] relative after:absolute after:top-full after:content-[''] after:h-[50px]  after:border-r after:border-dashed after:border-r-[#006D85] after:w-[1px] after:left-1/2",children:(0,b.jsx)(l.h3,{displayType:"text",thousandSeparator:" ",value:(0,i.get)(t,"total_count",0)})}),(0,b.jsxs)("div",{className:"flex justify-around ",children:[(0,b.jsx)("span",{className:"pt-2.5 w-1/2 ",children:(0,b.jsx)(l.h3,{displayType:"text",thousandSeparator:" ",value:(0,i.round)((0,i.get)(t,"total_payment_by_group",0),2)})}),(0,b.jsx)("span",{className:"pt-2.5 w-1/2 ",children:(0,b.jsx)(l.h3,{displayType:"text",thousandSeparator:" ",value:(0,i.round)((0,i.get)(t,"total_payment",0),2)})})]})]})}}];return(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"grid grid-cols-12 items-center",children:[(0,b.jsx)("div",{className:"col-span-8",children:(0,b.jsx)(r.Z,{children:t("Outpatient Reports")})}),(0,b.jsx)("div",{className:"col-span-4 text-right",children:(0,b.jsxs)("button",{onClick:function(){f({url:"".concat(o.n.reports,"/").concat(v.H$.patient_general_practitioner_report)},{onSuccess:function(){e("/reports")}})},className:"inline-flex items-center py-2.5 pl-2.5 pr-5 text-sm font-bold text-primary border border-primary rounded-lg",children:[(0,b.jsx)("img",{className:"mr-2.5",src:d.Z,alt:"export"}),t("Export")]})}),(0,b.jsxs)("div",{className:"col-span-12 mt-8",children:[g&&(0,b.jsx)(m.E,{}),(0,b.jsx)(s.Z,{doubleRow:!0,onRowClick:function(t){return e("/dispensaries/outpatient-reports/".concat((0,i.head)((0,i.split)((0,i.get)(t,"month",""),"/",2)),"/").concat((0,i.last)((0,i.split)((0,i.get)(t,"month",""),"/",2))))},listKey:n.t.outpatientReports,url:o.n.outpatientReports,columns:j})]})]})})},g=function(){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(f,{})})}}}]);
//# sourceMappingURL=638.aee5e82f.chunk.js.map