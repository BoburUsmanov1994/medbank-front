"use strict";(self.webpackChunkmedbank=self.webpackChunkmedbank||[]).push([[958],{2399:function(t,e,n){n(72791);e.Z=n.p+"static/media/Folders.b3dc12e3fe1a81a0608401f324b3eba9.svg"},58525:function(t,e,n){n(72791);e.Z=n.p+"static/media/download.5c6fa236248d121782afeb4b8fd485fb.svg"},72808:function(t,e,n){n(72791);e.Z=n.p+"static/media/filter.d86b4b19e5c4fa1de7f8c3f086a2d1a2.svg"},96040:function(t,e,n){n(72791);e.Z=n.p+"static/media/monitor.28acd7f992eb6b5a99461be522562ae9.svg"},24958:function(t,e,n){n.r(e),n.d(e,{default:function(){return I}});var r=n(72791),a=n(57689),s=n(1413),i=n(29439),o=n(72509),c=n(71977),l=n(18720),d=n(48665),u=n(763),m=n(58525),p=(n(72808),n(78076)),f=n(97892),g=n.n(f),x=n(70188),v=n(2703),h=n(30948),y=n(2399),b=n(96040),j=n(94502),k=n(63917),Z=n(39230),N=n(80184),_=[{title:"\u0413\u0420\u0423\u041f\u041f\u0410/\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415",key:"name",render:function(t){var e=t.row,n=t.value;return(0,N.jsxs)("div",{children:[n," ",(0,N.jsxs)("span",{className:"text-[#F25886] italic",children:["(",(0,u.get)(e,"code"),")"]})]})}},{title:"\u041a\u041e\u042d\u0424\u0424\u0418\u0426\u0418\u0415\u041d\u0422",key:"ratio"},{title:"\u0421\u041b\u0423\u0427\u0410\u0418 \u0424\u0413\u041c\u0421",key:"fgms_count",render:function(t){var e=t.value;return(0,N.jsx)(h.h3,{thousandSeparator:" ",displayType:"text",value:e})}},{title:"\u0421\u0423\u041c\u041c\u0410 \u0414\u041b\u042f \u041e\u041f\u041b\u0410\u0422\u042b",key:"fgms_payment",render:function(t){var e=t.value;return(0,N.jsx)(h.h3,{thousandSeparator:" ",displayType:"text",value:e})}},{title:"\u041e\u041f\u0415\u0420\u0410\u0426\u0418\u0418",key:"surgery_form_count",render:function(t){var e=t.value;return(0,N.jsx)(h.h3,{thousandSeparator:" ",displayType:"text",value:e})}},{title:"\u0421\u0423\u041c\u041c\u0410",key:"total_payment",render:function(t){var e=t.value;return(0,N.jsx)(h.h3,{thousandSeparator:" ",displayType:"text",value:e})}},{title:"\u0414\u0415\u0419\u0421\u0422\u0412\u0418\u042f",key:"organization_level",classnames:"!text-center",render:function(t){t.row;return(0,N.jsxs)("div",{className:"flex justify-around items-center px-3",children:[(0,N.jsx)("img",{className:"mr-1",src:y.Z,alt:"cloud"}),(0,N.jsx)("img",{src:b.Z,alt:"cloud"})]})}}],z=function(t){var e=t.year,n=void 0===e?parseInt(g()().format("YYYY")):e,f=t.month,h=void 0===f?g()().format("MM"):f,y=t.group,b=void 0===y?1:y,z=(0,Z.$G)().t,I=(0,a.s0)(),S=(0,r.useState)({year:n,month:h,group:b,drgId:null}),w=(0,i.Z)(S,2),C=w[0],T=w[1],Y=(0,j.i7)({key:"inpatient-organizations-list",url:"reports/inpatient/".concat(n).concat(h,"/organizations/").concat(b,"/groups/fgms/list")}),F=Y.data,L=Y.isLoading,R=(0,j.n7)({listKeyId:l.t.reports}),E=R.mutate,K=R.isLoading;(0,r.useEffect)((function(){T((function(t){return(0,s.Z)((0,s.Z)({},t),{},{year:(0,v.o)(x.Iu,n),month:(0,v.o)(x.gg,h)})}))}),[n,h,b]);return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{className:"grid grid-cols-12 items-center",children:[(0,N.jsx)("div",{className:"col-span-8",children:(0,N.jsxs)(o.Z,{children:[" ",z("\u0420\u0430\u0441\u0447\u0435\u0442\u044b \u043f\u043e \u043f\u0440\u043e\u043b\u0435\u0447\u0435\u043d\u043d\u044b\u043c \u0441\u043b\u0443\u0447\u0430\u044f\u043c \u0432 \u0440\u0430\u0437\u0440\u0435\u0437\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439")," "]})}),(0,N.jsxs)("div",{className:"col-span-4 text-right",children:[(0,N.jsxs)("button",{onClick:function(){E({url:d.n.drg_report,attributes:{filters:{organization_id:b,month:"".concat(n,"-").concat(h)}}},{onSuccess:function(){I("/reports")}})},className:"inline-flex mr-5 items-center py-2.5 pl-2.5 pr-5 text-sm font-bold text-primary border border-primary rounded-lg",children:[(0,N.jsx)("img",{className:"mr-2.5",src:m.Z,alt:"export"}),z("\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u043e \u0433\u0440\u0443\u043f\u043f\u0430\u043c")]}),(0,N.jsxs)("button",{onClick:function(){E({url:d.n.form_66_report,attributes:{filters:{organization_id:b,month:"".concat(n,"-").concat(h)}}},{onSuccess:function(){I("/reports")}})},className:"inline-flex items-center py-2.5 pl-2.5 pr-5 text-sm font-bold text-primary border border-primary rounded-lg",children:[(0,N.jsx)("img",{className:"mr-2.5",src:m.Z,alt:"export"}),z("\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0444\u043e\u0440\u043c\u0430 066")]})]}),(0,N.jsxs)("div",{className:"col-span-12 mt-8",children:[K&&(0,N.jsx)(k.E,{}),(0,N.jsx)(c.Z,{onRowClick:function(t){return I("/hospitals/organizations/groups/form66/".concat(n,"/").concat(h,"/").concat(b,"/").concat((0,u.get)(t,"id",1)))},filters:(0,N.jsx)("div",{className:"grid grid-cols-12 mb-5 gap-x-8",children:(0,N.jsx)("div",{className:"col-span-3",children:(0,N.jsx)(p.Z,{value:(0,u.get)(C,"drgId"),isLoading:L,setValue:function(t){return T((function(e){return(0,s.Z)((0,s.Z)({},e),{},{drgId:t})}))},label:"\u0413\u0440\u0443\u043f\u043f\u0430 \u041a\u0417\u0413",options:(0,u.get)(F,"data.data",[]).map((function(t){return{value:t.id,label:t.name}}))})})}),listKey:l.t.inpatientReports,url:d.n.inpatientReports+"/".concat((0,u.get)(C,"year.value",n)).concat((0,u.get)(C,"month.value",h),"/organizations/").concat(b,"/groups/fgms"),columns:_,params:{drg_id:(0,u.get)(C,"drgId")}})]})]})})},I=function(){var t=(0,a.UO)(),e=t.year,n=t.month,r=t.group;return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(z,{year:e,month:n,group:r})})}}}]);
//# sourceMappingURL=958.9d857624.chunk.js.map