"use strict";(self.webpackChunkmedbank=self.webpackChunkmedbank||[]).push([[728],{58525:function(e,t,n){n(72791);t.Z=n.p+"static/media/download.5c6fa236248d121782afeb4b8fd485fb.svg"},72808:function(e,t,n){n(72791);t.Z=n.p+"static/media/filter.d86b4b19e5c4fa1de7f8c3f086a2d1a2.svg"},55202:function(e,t,n){n(72791);t.Z=n.p+"static/media/select-arrow.ef735b9a48c75a4e5498f876e3b0888b.svg"},78076:function(e,t,n){var o=n(1413),a=(n(72791),n(93646)),r=n(38630),s=n(28182),i=n(55202),l=n(80184),c=function(e){return a.c.DropdownIndicator&&(0,l.jsx)(a.c.DropdownIndicator,(0,o.Z)((0,o.Z)({},e),{},{children:(0,l.jsx)("img",{src:i.Z,alt:"arrow"})}))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{control:function(t,n,a){return(0,o.Z)((0,o.Z)({},t),{},{background:"#fff",borderColor:"rgba(0, 0, 0, 0.1)",borderRadius:"8px",outline:"none",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",color:"#222",display:"flex",overflow:"hidden",padding:"4px 12px",width:e?"100px":"100%",minWidth:e?"80px":"200px",minHeight:"48px",fontSize:"16px",fontWeight:"600","&:hover":{borderColor:"#006D85",outline:"none"},"&:focus":{borderColor:"#006D85",outline:"none"}})},indicatorSeparator:function(e,t){return(0,o.Z)((0,o.Z)({},e),{},{display:"none"})}}};t.Z=function(e){var t=e.name,n=void 0===t?"":t,o=e.value,a=void 0===o?null:o,i=e.sm,u=void 0!==i&&i,m=e.label,f=void 0===m?"":m,x=e.options,p=void 0===x?[]:x,v=e.setValue,g=void 0===v?function(){}:v,h=e.isClearable,b=void 0===h||h;return(0,l.jsxs)("div",{className:(0,s.Z)({"flex items-center":u}),children:[f&&(0,l.jsxs)("label",{className:(0,s.Z)("mb-1.5 text-secondary-300 font-bold flex items-center"),htmlFor:f,children:[f,(0,l.jsx)("span",{className:"ml-1.5 inline-block bg-[#006D85] w-1.5 h-1.5 rounded-full"})]}),(0,l.jsx)(r.ZP,{isClearable:b,name:n,clearIndicator:!0,styles:d(u),id:f,value:a,onChange:g,options:p,components:{DropdownIndicator:c},placeholder:u?"":"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"})]})}},61087:function(e,t,n){n.d(t,{Z:function(){return E}});var o=n(1413),a=n(29439),r=n(72791),s=n(94502),i=n(63917),l=n(28182),c=n(763),d=n(57689),u=n(78076),m=n(70188),f=n(96048),x=n.n(f);var p=n.p+"static/media/prev.0ba7b31192ae832f345d4a127d088f8d.svg";var v=n.p+"static/media/next.bebff1c891b224785dd8a6b5e39612fd.svg",g=n(39230),h=n(80184),b=function(){var e=(0,g.$G)().t;return(0,h.jsx)("div",{className:"p-5 pt-7 text-center font-semibold",children:e("No data")})},j=n(10658),y=function(e){var t=e.children,n=e.onClose,o=void 0===n?function(){}:n,a=e.open,s=void 0!==a&&a,i=e.title,c=void 0===i?"":i,d=e.classNames,u=void 0===d?"":d;return(0,r.useEffect)((function(){document.body.style.overflow=s?"hidden":"auto"}),[s]),(0,h.jsx)(h.Fragment,{children:s&&(0,h.jsxs)("div",{className:"h-screen fixed top-0 left-0 w-full z-50",children:[(0,h.jsx)("div",{onClick:o,className:"absolute top-0 left-0 h-full w-full z-5 bg-[#d9d9d9ab]"}),(0,h.jsxs)("div",{className:(0,l.Z)("bg-white p-6 z-10 absolute top-1/2 left-1/2 w-[500px] -translate-x-1/2 -translate-y-1/2 rounded shadow-card max-h-[85vh] overflow-y-auto",u),children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"text-xl font-bold mb-6",children:c}),(0,h.jsx)(j.Z,{onClick:o,className:"absolute right-3 top-3 cursor-pointer"})]}),t]})]})})},N=n(59828),Z=n(38965),w=n(84965),C=n(21830),k=n.n(C),E=function(e){var t=e.url,n=void 0===t?"/":t,f=e.viewUrl,j=void 0===f?null:f,C=e.listKey,E=void 0===C?"":C,S=e.params,z=void 0===S?{}:S,D=e.filters,F=void 0===D?null:D,I=e.columns,_=void 0===I?[]:I,B=e.onRowClick,K=void 0===B?function(){}:B,L=e.doubleRow,R=void 0!==L&&L,M=e.modalClassNames,V=void 0===M?"":M,Y=e.hasActionColumn,A=void 0!==Y&&Y,P=e.ModalBody,T=void 0===P?null:P,U=e.openCreateModal,G=void 0!==U&&U,O=e.setOpenCreateModal,W=void 0===O?function(){}:O,X=e.dataKey,$=void 0===X?"data.data":X,q=e.rowKey,H=void 0===q?"id":q,J=(0,r.useState)(1),Q=(0,a.Z)(J,2),ee=Q[0],te=Q[1],ne=(0,r.useState)(null),oe=(0,a.Z)(ne,2),ae=oe[0],re=oe[1],se=(0,r.useState)({value:15,label:"15"}),ie=(0,a.Z)(se,2),le=ie[0],ce=ie[1],de=(0,g.$G)().t,ue=(0,s.i7)({key:E,url:n,params:{params:(0,o.Z)((0,o.Z)({},z),{},{page:ee,per_page:(0,c.get)(le,"value")})}}),me=ue.data,fe=ue.isLoading,xe=ue.isError,pe=(0,s.xq)({id:ae,key:[E,ae],url:null!==j&&void 0!==j?j:n,enabled:!!ae}),ve=pe.data,ge=void 0===ve?{}:ve,he=pe.isLoading,be=(0,s.n7)({listKeyId:E}),je=be.mutate,ye=be.isLoading,Ne=(0,w.Z)({listKeyId:E}),Ze=Ne.mutate,we=Ne.isLoading,Ce=(0,s.V0)({listKeyId:E}),ke=Ce.mutate,Ee=Ce.isLoading,Se=function(e){var t=e.data,o=e.setError,a=e.reset;!G&&ae?Ze({url:"".concat(null!==j&&void 0!==j?j:n,"/").concat((0,c.get)(t,H)),attributes:(0,c.omit)(t,H)},{onSuccess:function(){re(null),a()},onError:function(e){(0,c.forEach)((0,c.get)(e,"response.data.errors",{}),(function(e,t){o(t,{type:"validation",message:(0,c.head)(e)})}))}}):je({url:n,attributes:t},{onSuccess:function(){W(!1),a()},onError:function(e){(0,c.forEach)((0,c.get)(e,"response.data.errors",{}),(function(e,t){o(t,{type:"validation",message:(0,c.head)(e)})}))}})};return xe?(0,h.jsx)(d.Fg,{to:"/error"}):fe?(0,h.jsx)(i.E,{}):(0,h.jsxs)("div",{className:"bg-white py-4 px-7 shadow-box",children:[F,(0,h.jsx)("div",{style:{transform:"rotateX(180deg)"},className:"overflow-x-auto max-h-[75vh] overflow-y-auto border border-[#E6E6E6] rounded-lg",children:(0,h.jsxs)("table",{style:{transform:"rotateX(180deg)"},className:"table",children:[(0,h.jsx)("thead",{className:"thead",children:(0,h.jsxs)("tr",{className:"tr",children:[_&&_.map((function(e){return(0,h.jsx)("th",{className:(0,l.Z)("th",(0,c.get)(e,"classnames","")),children:(0,c.get)(e,"title")},(0,c.get)(e,"title"))})),A&&(0,h.jsx)("th",{className:"th text-center",children:de("Actions")})]})}),(0,h.jsx)("tbody",{className:"tbody",children:(0,c.get)(me,$,[]).length>0?(0,c.get)(me,$,[]).map((function(e,t){return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("tr",{onClick:function(){return K(e)},className:"tr",children:[_.map((function(n,o){return(0,h.jsx)("td",{className:(0,l.Z)("td",(0,c.get)(n,"classnames",""),{"!px-0":R}),children:(0,c.get)(n,"render")?(0,c.get)(n,"render")({value:(0,c.get)(e,(0,c.get)(n,"key")),row:e,index:t+(ee-1)*le+1}):(0,c.get)(e,(0,c.get)(n,"key"))},(0,c.get)(n,"key",o))})),A&&(0,h.jsxs)("td",{className:"td flex justify-center !max-w-full",children:[(0,h.jsx)(N.Z,{className:"mx-3.5",color:"#2F68FC",size:22,onClick:function(){return re((0,c.get)(e,H))}}),(0,h.jsx)(Z.Z,{onClick:function(){return t=(0,c.get)(e,H),void k().fire({position:"center",icon:"error",backdrop:"rgba(0,0,0,0.9)",background:"none",title:de("Are you sure?"),showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#F25886",cancelButtonColor:"#006D85",confirmButtonText:de("Delete"),cancelButtonText:de("Cancel"),customClass:{title:"title-color"}}).then((function(e){e.isConfirmed&&ke({url:"".concat(null!==j&&void 0!==j?j:n,"/").concat(t)})}));var t},color:"#F25886",size:24})]})]},(0,c.get)(e,(0,c.get)(_,"[0].key",t)))})})):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:(null===_||void 0===_?void 0:_.length)||12,children:(0,h.jsx)(b,{})})})})]})}),(0,c.get)(me,"data.meta.total")>0&&(0,h.jsxs)("div",{className:"flex mt-3 justify-between items-center",children:[(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(u.Z,{isClearable:!1,sm:!0,value:le,setValue:ce,options:m.D5}),(0,h.jsxs)("span",{className:"ml-3 text-secondary-300 text-sm font-semibold",children:[de("Show")," 1-",(0,c.get)(le,"value",0)," ",de("from")," ",(0,c.get)(me,"data.meta.total",0)]})]}),(0,h.jsx)(x(),{forcePage:ee-1,onPageChange:function(e){var t=e.selected;return te(t+1)},pageCount:(0,c.ceil)((0,c.get)(me,"data.meta.total",0)/(0,c.get)(le,"value",1)),nextLabel:(0,h.jsx)("img",{src:v,alt:"next"}),previousLabel:(0,h.jsx)("img",{src:p,alt:"prev"}),className:"pagination"})]}),(0,h.jsxs)(y,{onClose:function(){W(!1),re(null)},classNames:V,title:de(G?"Create":"Update"),open:!(!G&&!ae),children:[ye&&(0,h.jsx)(i.p,{}),we&&(0,h.jsx)(i.p,{}),Ee&&(0,h.jsx)(i.p,{}),G?T(Se,ge):he?(0,h.jsx)(i.p,{}):T(Se,ge)]})]})}},9728:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var o=n(72791),a=n(57689),r=n(1413),s=n(29439),i=n(72509),l=n(61087),c=n(18720),d=n(48665),u=n(763),m=n(58525),f=n(72808),x=n(78076),p=n(97892),v=n.n(p),g=n(70188),h=n(2703),b=n(30948),j=n(80184),y=[{title:"form id",key:"form_066_id"},{title:"diagnosis",key:"diagnosis"},{title:"paid source",key:"paid_source"},{title:"patient id",key:"patient_id"},{title:"operation code",key:"intervention"},{title:"payment",key:"payment",render:function(e){var t=e.value;return(0,j.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:t})}},{title:"responsible signing date",key:"responsible_signing_date"}],N=function(e){var t=e.year,n=void 0===t?parseInt(v()().format("YYYY")):t,p=e.month,b=void 0===p?v()().format("MM"):p,N=e.group,Z=void 0===N?1:N,w=e.form,C=void 0===w?1:w,k=(0,a.s0)(),E=(0,o.useState)({year:n,month:b,group:Z,form:C}),S=(0,s.Z)(E,2),z=S[0],D=S[1];return(0,o.useEffect)((function(){D({year:(0,h.o)(g.Iu,n),month:(0,h.o)(g.gg,b)})}),[n,b,Z,C]),(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:"grid grid-cols-12 items-center",children:[(0,j.jsx)("div",{className:"col-span-8",children:(0,j.jsx)(i.Z,{children:"\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440\u043d\u044b\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"})}),(0,j.jsx)("div",{className:"col-span-4 text-right",children:(0,j.jsxs)("button",{className:"inline-flex items-center py-2.5 pl-2.5 pr-5 text-sm font-bold text-primary border border-primary rounded-lg",children:[(0,j.jsx)("img",{className:"mr-2.5",src:m.Z,alt:"export"}),"\u042d\u043a\u0441\u043f\u043e\u0440\u0442"]})}),(0,j.jsx)("div",{className:"col-span-12 mt-8",children:(0,j.jsx)(l.Z,{onRowClick:function(e){return k("/hospitals/organizations/form66/".concat(n,"/").concat(b,"/").concat((0,u.get)(e,"form_066_id",1)))},filters:(0,j.jsxs)("div",{className:"grid grid-cols-12 mb-5 gap-x-8",children:[(0,j.jsx)("div",{className:"col-span-3",children:(0,j.jsx)(x.Z,{setValue:function(e){return D((function(t){return(0,r.Z)((0,r.Z)({},t),{},{month:e})}))},label:"\u0423\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435",options:[]})}),(0,j.jsxs)("div",{className:"col-span-3 flex items-center",children:[(0,j.jsx)("div",{className:"mr-5 w-full",children:(0,j.jsx)(x.Z,{setValue:function(e){return D((function(t){return(0,r.Z)((0,r.Z)({},t),{},{month:e})}))},label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",options:[]})}),(0,j.jsx)("img",{onClick:function(){return k("/hospitals/organizations/".concat(n,"/").concat(b,"/1"))},className:"cursor-pointer translate-y-1/2",src:f.Z,alt:"filter"})]})]}),listKey:c.t.inpatientReports,url:d.n.inpatientReports+"/".concat((0,u.get)(z,"year.value",n)).concat((0,u.get)(z,"month.value",b),"/organizations/").concat(Z,"/groups/").concat(C,"/forms066/fgms"),columns:y})})]})})},Z=function(){var e=(0,a.UO)(),t=e.year,n=e.month,o=e.group,r=e.form;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(N,{year:t,month:n,group:o,form:r})})}},2703:function(e,t,n){n.d(t,{o:function(){return a}});var o=n(763),a=function(e,t){return(0,o.find)(e,(function(e){return(0,o.get)(e,"value")==t}))}}}]);
//# sourceMappingURL=728.ed6ff657.chunk.js.map