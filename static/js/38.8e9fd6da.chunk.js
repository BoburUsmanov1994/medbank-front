(self.webpackChunkmedbank=self.webpackChunkmedbank||[]).push([[38],{2399:function(e,t,r){"use strict";r(72791);t.Z=r.p+"static/media/Folders.b3dc12e3fe1a81a0608401f324b3eba9.svg"},58525:function(e,t,r){"use strict";r(72791);t.Z=r.p+"static/media/download.5c6fa236248d121782afeb4b8fd485fb.svg"},96040:function(e,t,r){"use strict";r(72791);t.Z=r.p+"static/media/monitor.28acd7f992eb6b5a99461be522562ae9.svg"},62780:function(e,t,r){"use strict";r.d(t,{aN:function(){return j},II:function(){return c},Ph:function(){return h}});var n=r(1413),o=r(45987),a=(r(72791),r(28182)),s=r(763),i=r(80184),l=["register","name","errors","property","params","label","classNames"],c=function(e){var t,r,c=e.register,d=e.name,u=e.errors,p=e.property,m=e.params,f=e.label,x=void 0===f?"":f,h=e.classNames,v=void 0===h?"":h,y=(0,o.Z)(e,l);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:(0,a.Z)("form-group",v),children:[(0,i.jsx)("label",{className:"form-label",htmlFor:"#",children:x}),(0,i.jsx)("input",(0,n.Z)((0,n.Z)((0,n.Z)({},c(d,(0,n.Z)({},m))),y),{},{className:(0,a.Z)("form-input",{"border-red-600":(0,s.hasIn)(u,d)}),type:(0,s.get)(p,"type","text"),disabled:(0,s.get)(p,"disabled",!1),step:(0,s.get)(p,"step","any")})),"required"===(null===(t=u[d])||void 0===t?void 0:t.type)&&(0,i.jsx)("span",{className:"text-red-600 text-xs",children:"This field is required"}),"validation"===(null===(r=u[d])||void 0===r?void 0:r.type)&&(0,i.jsx)("span",{className:"text-red-600 text-xs",children:(0,s.get)(u,"".concat(d,".message"))})]})})},d=r(93646),u=r(38630),p=r(55202),m=r(61134),f=(r(18485),function(e){return d.c.DropdownIndicator&&(0,i.jsx)(d.c.DropdownIndicator,(0,n.Z)((0,n.Z)({},e),{},{children:(0,i.jsx)("img",{src:p.Z,alt:"arrow"})}))}),x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{control:function(t,r,o){return(0,n.Z)((0,n.Z)({},t),{},{background:"#fff",borderColor:e?"red":"rgba(0, 0, 0, 0.1)",borderRadius:"8px",outline:"none",display:"flex",overflow:"hidden",padding:"4px 12px",width:"100%",minWidth:"200px",minHeight:"48px",fontSize:"16px",fontWeight:"400","&:hover":{borderColor:"#006D85",outline:"none"},"&:focus":{borderColor:"#006D85",outline:"none"}})},indicatorSeparator:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{display:"none"})}}},h=function(e){var t,r,o=e.control,l=e.name,c=e.errors,d=e.placeholder,p=void 0===d?"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d":d,h=e.params,v=e.label,y=void 0===v?"":v,g=e.options,b=void 0===g?[]:g;return(0,i.jsxs)("div",{className:(0,a.Z)("form-group"),children:[y&&(0,i.jsx)("label",{className:(0,a.Z)("form-label"),htmlFor:y,children:y}),(0,i.jsx)(m.Qr,{control:o,name:l,rules:h,render:function(e){var t=e.field;return(0,i.jsx)(u.ZP,(0,n.Z)((0,n.Z)({},t),{},{clearIndicator:!0,styles:x((0,s.hasIn)(c,l)),id:y,options:b,components:{DropdownIndicator:f},placeholder:p}))}}),"required"==(null===(t=c[l])||void 0===t?void 0:t.type)&&(0,i.jsx)("span",{className:"text-red-600 text-xs",children:"This field is required"}),"validation"==(null===(r=c[l])||void 0===r?void 0:r.type)&&(0,i.jsx)("span",{className:"text-red-600 text-xs",children:(0,s.get)(c,"".concat(l,".message"))})]})},v=r(59513),y=r.n(v),g=(r(68639),r(97892)),b=r.n(g),j=function(e){var t,r,n=e.control,o=e.disabled,l=void 0!==o&&o,c=e.name,d=e.errors,u=e.params,p=e.property,f=e.defaultValue,x=void 0===f?new Date:f,h=e.label,v=e.dateFormat,g=void 0===v?"yyyy/MM/dd":v;return(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:null!==h&&void 0!==h?h:c}),(0,i.jsx)(m.Qr,{control:n,name:c,rules:u,defaultValue:x,render:function(e){var t=e.field;return(0,i.jsx)(y(),{dateFormat:g,selected:b()(t.value).toDate(),onChange:function(e){return t.onChange(e)},readOnly:l,showMonthYearPicker:(0,s.get)(p,"showMonthYearPicker"),className:(0,a.Z)("form-input pr-10",{"border-red-600":(0,s.hasIn)(d,c)})})}}),"required"==(null===(t=d[c])||void 0===t?void 0:t.type)&&(0,i.jsx)("span",{className:"text-red-600 text-xs",children:"This field is required"}),"validation"==(null===(r=d[c])||void 0===r?void 0:r.type)&&(0,i.jsx)("span",{className:"text-red-600 text-xs",children:(0,s.get)(d,"".concat(c,".message"))})]})};r(79504),r(39230)},52018:function(e,t,r){"use strict";var n=r(1413),o=r(72791),a=r(61134),s=r(80184);t.Z=function(e){var t=e.classNames,r=void 0===t?"":t,i=e.defaultValues,l=e.children,c=e.onSubmit,d=(0,a.cI)({defaultValues:i}),u=d.handleSubmit,p=d.formState.errors,m=d.setError,f=d.clearErrors,x=d.reset;return(0,s.jsx)("form",{className:r,onSubmit:u((function(e){c({data:e,setError:m,clearErrors:f,reset:x})})),children:o.Children.map(l,(function(e){return e.props.name?o.createElement(e.type,(0,n.Z)({},(0,n.Z)((0,n.Z)({},e.props),{},{control:d.control,setValue:d.setValue,register:d.register,key:e.props.name,errors:p}))):e}))})}},44038:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var n=r(72791),o=r(29439),a=r(72509),s=r(71977),i=r(18720),l=r(48665),c=r(763),d=r(58525),u=r(57689),p=r(30948),m=r(2399),f=r(96040),x=r(39230),h=r(94502),v=r(97892),y=r.n(v),g=r(98130),b=r(63917),j=r(52018),Z=r(62780),N=r(18710),w=r(24118),k=r(40077),S=r(80184),I=function(){var e=(0,n.useState)(!1),t=(0,o.Z)(e,2),r=t[0],v=t[1],I=(0,u.s0)(),O=(0,x.$G)().t,M=(0,h.n7)({listKeyId:i.t.inpatientReports}),C=M.mutate,E=M.isLoading,_=[{title:O("Month"),key:"month"},{title:O("\u0421\u041b\u0423\u0427\u0410\u0418 \u0424\u0413\u041c\u0421"),key:"fgms_count",render:function(e){var t=e.value;return(0,S.jsx)(p.h3,{thousandSeparator:" ",displayType:"text",value:t})}},{title:O("\u0421\u0423\u041c\u041c\u0410 \u0414\u041b\u042f \u041e\u041f\u041b\u0410\u0422\u042b"),key:"fgms_payment",render:function(e){var t=e.value;return(0,S.jsx)(p.h3,{thousandSeparator:" ",displayType:"text",value:t})}},{title:"\u0414\u0420\u0423\u0413\u0418\u0415 \u0421\u041b\u0423\u0427\u0410\u0418",key:"total_count",render:function(e){var t=e.row;return(0,S.jsx)(p.h3,{thousandSeparator:" ",displayType:"text",value:(0,c.get)(t,"total_count",0)-(0,c.get)(t,"fgms_count",0)})}},{title:"\u0421\u0423\u041c\u041c\u0410",key:"total_payment",render:function(e){var t=e.row;return(0,S.jsx)(p.h3,{thousandSeparator:" ",displayType:"text",value:(0,c.get)(t,"total_payment",0)-(0,c.get)(t,"fgms_payment",0)})}},{title:O("\u0414\u0415\u0419\u0421\u0422\u0412\u0418\u042f"),key:"organization_level",classnames:"!text-center",render:function(e){e.row;return(0,S.jsxs)("div",{className:"flex justify-around items-center px-3",children:[(0,S.jsx)("img",{className:"mr-1",src:m.Z,alt:"cloud"}),(0,S.jsx)("img",{src:f.Z,alt:"cloud"})]})}}];return(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"grid grid-cols-12 items-center",children:[(0,S.jsx)("div",{className:"col-span-8",children:(0,S.jsx)(a.Z,{children:O("\u0421\u0442\u0430\u0446\u0438\u043e\u043d\u0430\u0440\u043d\u044b\u0435 \u043e\u0442\u0447\u0435\u0442\u044b")})}),(0,S.jsxs)("div",{className:"col-span-4 text-right",children:[(0,S.jsx)(w.Z,{can:[k.Z.PERMISSIONS.inpatient_report_creation],children:(0,S.jsxs)("button",{onClick:function(){return v(!0)},className:"inline-flex items-center py-2.5 pl-2.5 pr-5 text-sm font-bold text-primary border border-primary rounded-lg mr-3",children:[(0,S.jsx)(g.Z,{className:"mr-2.5",size:20}),O("Generate")]})}),(0,S.jsx)(w.Z,{can:[k.Z.PERMISSIONS.inpatient_export],children:(0,S.jsxs)("button",{className:"inline-flex items-center py-2.5 pl-2.5 pr-5 text-sm font-bold text-primary border border-primary rounded-lg",children:[(0,S.jsx)("img",{className:"mr-2.5",src:d.Z,alt:"export"}),O("Export")]})})]}),(0,S.jsx)("div",{className:"col-span-12 mt-8",children:(0,S.jsx)(s.Z,{onRowClick:function(e){return I("/hospitals/inpatient-reports/".concat((0,c.head)((0,c.split)((0,c.get)(e,"month",""),"/",2)),"/").concat((0,c.last)((0,c.split)((0,c.get)(e,"month",""),"/",2))))},listKey:i.t.inpatientReports,url:l.n.inpatientReports,columns:_})})]}),(0,S.jsxs)(N.Z,{onClose:function(){v(!1)},classNames:"overflow-y-visible relative",title:"",open:r,children:[E&&(0,S.jsx)(b.p,{}),(0,S.jsxs)(j.Z,{onSubmit:function(e){var t=e.data,r=(void 0===t?{}:t).month,n=void 0===r?new Date:r;C({url:l.n.inpatientReports,attributes:{month:y()(n).format("YYYY-MM")}},{onSuccess:function(){v(!1)}})},children:[(0,S.jsx)(Z.aN,{property:{showMonthYearPicker:!0},dateFormat:"yyyy/MM",name:"month",label:O("Month"),params:{required:!0}}),(0,S.jsx)("button",{type:"submit",className:"w-full p-3.5 rounded-lg bg-primary block  text-white font-bold text-center h-12 mt-6",children:O("Generate")})]})]})]})},O=function(){return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(I,{})})}},18485:function(e){e.exports={}},98130:function(e,t,r){"use strict";var n=r(72791),o=r(52007),a=r.n(o);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=(0,n.forwardRef)((function(e,t){var r=e.color,o=void 0===r?"currentColor":r,a=e.size,l=void 0===a?24:a,c=i(e,["color","size"]);return n.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),n.createElement("polyline",{points:"1 4 1 10 7 10"}),n.createElement("polyline",{points:"23 20 23 14 17 14"}),n.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))}));l.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},l.displayName="RefreshCcw",t.Z=l}}]);
//# sourceMappingURL=38.8e9fd6da.chunk.js.map