"use strict";(self.webpackChunkmedbank=self.webpackChunkmedbank||[]).push([[74],{58525:function(e,t,a){a(72791);t.Z=a.p+"static/media/download.5c6fa236248d121782afeb4b8fd485fb.svg"},72808:function(e,t,a){a(72791);t.Z=a.p+"static/media/filter.d86b4b19e5c4fa1de7f8c3f086a2d1a2.svg"},5745:function(e,t,a){a(72791);t.Z=a.p+"static/media/gender-female.803c024f65f7d961a3d4d63d9ab94784.svg"},18232:function(e,t,a){a(72791);t.Z=a.p+"static/media/gender-male.b99eb0c250b0e8d37d36ad2e2dcc0e32.svg"},76074:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var r=a(72791),s=a(1413),n=a(29439),d=a(72509),i=a(71977),o=a(18720),l=a(48665),p=a(763),c=a(58525),u=(a(72808),a(78076)),x=a(97892),h=a.n(x),m=a(70188),v=a(2703),g=a(57689),b=a(30948),j=a(5745),y=a(18232),f=a(94502),_=a(63917),N=a(39230),S=a(24118),k=a(40077),T=a(80184),w=[{title:"\u0420\u0415\u0413\u0418\u041e\u041d(\u0420\u041c\u041e/\u0413\u041c\u041e)/\u0413\u0420\u0423\u041f\u041f\u042b",key:"name",render:function(e){var t=e.value;return(0,T.jsx)("span",{className:"px-3",children:t})}},{title:"<1",key:"patient_groups.code",render:function(e){var t=e.row;return(0,T.jsxs)("div",{className:"text-left ",children:[(0,T.jsxs)("div",{className:"px-3  pb-2.5 border-b border-dashed border-b-[#006D85] ",children:[(0,T.jsx)("span",{className:"bg-[#D9D9D9] inline-block rounded-[20px] px-2 py-1 text-xs font-semibold text-black mr-14",children:"\u041d\u0430\u0441."}),(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[0].count",0),2)})]}),(0,T.jsxs)("div",{className:"pt-2.5 px-3 ",children:[(0,T.jsx)("span",{className:"bg-[#D9D9D9] inline-block rounded-[20px] px-2 py-1 text-xs font-semibold text-black mr-10 ",children:"\u0421\u0443\u043c\u043c\u0430."}),(0,T.jsx)(b.h3,{className:"",thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[0].payment",0),2)})]})]})}},{title:"1-5",key:"patient_groups",render:function(e){var t=e.row;return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[1].count",0),2)})}),(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[1].payment",0),2)})})]})}},{title:"6-14",key:"patient_groups",render:function(e){var t=e.row;return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[2].count",0),2)})}),(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[2].payment",0),2)})})]})}},{title:(0,T.jsxs)("span",{className:"inline-flex items-center",children:["15-39F ",(0,T.jsx)("img",{src:j.Z,alt:"female"})]}),key:"patient_groups",render:function(e){var t=e.row;return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[3].count",0),2)})}),(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[3].payment",0),2)})})]})}},{title:(0,T.jsxs)("span",{className:"inline-flex items-start",children:["15-39M ",(0,T.jsx)("img",{src:y.Z,alt:"male"})]}),key:"patient_groups",render:function(e){var t=e.row;return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[4].count",0),2)})}),(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[4].payment",0),2)})})]})}},{title:(0,T.jsxs)("span",{className:"inline-flex items-center",children:["40-49F ",(0,T.jsx)("img",{src:j.Z,alt:"female"})]}),key:"patient_groups",render:function(e){var t=e.row;return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[5].count",0),2)})}),(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[5].payment",0),2)})})]})}},{title:(0,T.jsxs)("span",{className:"inline-flex items-start",children:["40-49M ",(0,T.jsx)("img",{src:y.Z,alt:"male"})]}),key:"patient_groups",render:function(e){var t=e.row;return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[6].count",0),2)})}),(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[6].payment",0),2)})})]})}},{title:"50-65",key:"patient_groups",render:function(e){var t=e.row;return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[7].count",0),2)})}),(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[7].payment",0),2)})})]})}},{title:"65<",key:"patient_groups",render:function(e){var t=e.row;return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85]",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[8].count",0),2)})}),(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"patient_groups[8].payment",0),2)})})]})}},{title:(0,T.jsxs)("div",{className:"flex justify-around",children:[(0,T.jsx)("span",{className:"mr-10 ml-3",children:"\u041f\u043e \u0433\u0440\u0443\u043f\u043f\u0430\u043c "}),(0,T.jsx)("span",{className:"mr-3",children:"\u041f\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443"})]}),key:"organization_level",render:function(e){var t=e.row;return(0,T.jsxs)("div",{className:"text-center",children:[(0,T.jsx)("div",{className:"pb-2.5 border-b border-dashed border-b-[#006D85] relative after:absolute after:top-full after:content-[''] after:h-[50px]  after:border-r after:border-dashed after:border-r-[#006D85] after:w-[1px] after:left-1/2",children:(0,T.jsx)(b.h3,{displayType:"text",thousandSeparator:" ",value:(0,p.get)(t,"total_count",0)})}),(0,T.jsxs)("div",{className:"flex justify-around ",children:[(0,T.jsx)("span",{className:"pt-2.5 w-1/2 ",children:(0,T.jsx)(b.h3,{displayType:"text",thousandSeparator:" ",value:(0,p.round)((0,p.get)(t,"total_payment_by_group",0),2)})}),(0,T.jsx)("span",{className:"pt-2.5 w-1/2 ",children:(0,T.jsx)(b.h3,{displayType:"text",thousandSeparator:" ",value:(0,p.round)((0,p.get)(t,"total_payment",0),2)})})]})]})}},{title:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446",key:"grand_total",render:function(e){var t=e.row;return(0,T.jsx)("div",{children:(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"grand_total",0)/12,2)})})})}},{title:"\u0418\u0442\u043e\u0433\u043e",key:"grand_total",render:function(e){var t=e.row;return(0,T.jsx)("div",{children:(0,T.jsx)("div",{className:"pt-2.5 ",children:(0,T.jsx)(b.h3,{thousandSeparator:" ",displayType:"text",value:(0,p.round)((0,p.get)(t,"grand_total",0),2)})})})}}],Z=function(e){var t=e.year,a=void 0===t?parseInt(h()().format("YYYY")):t,x=e.month,b=void 0===x?h()().format("MM"):x,j=(0,N.$G)().t,y=(0,g.s0)(),Z=(0,r.useState)({year:a,month:b,state_id:null}),D=(0,n.Z)(Z,2),C=D[0],I=D[1],M=(0,f.i7)({key:o.t.states,url:l.n.states}),R=M.data,Y=(M.isLoading,(0,f.n7)({listKeyId:o.t.reports})),E=Y.mutate,F=Y.isLoading;(0,r.useEffect)((function(){I({year:(0,v.o)(m.Iu,a),month:(0,v.o)(m.gg,b)})}),[a,b]);return(0,T.jsx)("div",{children:(0,T.jsxs)("div",{className:"grid grid-cols-12 items-center",children:[(0,T.jsx)("div",{className:"col-span-8",children:(0,T.jsx)(d.Z,{children:j("\u0420\u0430\u0441\u0447\u0435\u0442\u044b \u043f\u043e \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044e \u0432 \u0440\u0430\u0437\u0440\u0435\u0437\u0435 \u0440\u0435\u0433\u0438\u043e\u043d\u043e\u0432")})}),(0,T.jsx)("div",{className:"col-span-4 text-right",children:(0,T.jsxs)(S.Z,{can:[k.Z.PERMISSIONS.outpatient_export],children:[" ",(0,T.jsxs)("button",{onClick:function(){E({url:(0,p.isNil)((0,p.get)(C,"state_id"))?"".concat(l.n.reports,"/").concat(m.H$.patient_general_practitioner_report):"".concat(l.n.reports,"/").concat(m.H$.outpatient_by_state_and_month),attributes:(0,p.isNil)((0,p.get)(C,"state_id"))?{}:{filters:{state_id:(0,p.get)(C,"state_id.value"),month:"".concat((0,p.get)(C,"year.value",a)).concat((0,p.get)(C,"month.value",b))}}},{onSuccess:function(){y("/reports")}})},className:"inline-flex items-center py-2.5 pl-2.5 pr-5 text-sm font-bold text-primary border border-primary rounded-lg",children:[(0,T.jsx)("img",{className:"mr-2.5",src:c.Z,alt:"export"}),j("\u042d\u043a\u0441\u043f\u043e\u0440\u0442")]})]})}),(0,T.jsxs)("div",{className:"col-span-12 mt-8",children:[F&&(0,T.jsx)(_.E,{}),(0,T.jsx)(i.Z,{doubleRow:!0,onRowClick:function(e){return y("/dispensaries/organizations/".concat(a,"/").concat(b,"/").concat((0,p.get)(e,"id",1)))},filters:(0,T.jsxs)("div",{className:"grid grid-cols-12 mb-5 gap-x-8",children:[(0,T.jsx)("div",{className:"col-span-3",children:(0,T.jsx)(u.Z,{isClearable:!1,setValue:function(e){return y("/dispensaries/outpatient-reports/".concat((0,p.get)(e,"value"),"/").concat(b))},value:(0,p.get)(C,"year"),label:"\u0413\u043e\u0434",options:m.Iu})}),(0,T.jsx)("div",{className:"col-span-3",children:(0,T.jsx)(u.Z,{isClearable:!1,setValue:function(e){return y("/dispensaries/outpatient-reports/".concat(a,"/").concat((0,p.get)(e,"value")))},value:(0,p.get)(C,"month"),label:"\u041c\u0435\u0441\u044f\u0446",options:m.gg})}),(0,T.jsx)("div",{className:"col-span-3",children:(0,T.jsx)(u.Z,{value:(0,p.get)(C,"state_id"),setValue:function(e){return I((function(t){return(0,s.Z)((0,s.Z)({},t),{},{state_id:e})}))},label:"\u0420\u0435\u0433\u0438\u043e\u043d",options:(0,p.get)(R,"data.data",[]).map((function(e){return{label:(0,p.get)(e,"name"),value:(0,p.get)(e,"id")}}))})})]}),listKey:o.t.outpatientReports,url:l.n.outpatientReports+"/".concat((0,p.get)(C,"year.value",a)).concat((0,p.get)(C,"month.value",b),"/states"),columns:w,params:{state_id:(0,p.get)(C,"state_id.value")}})]})]})})},D=function(){var e=(0,g.UO)(),t=e.year,a=e.month;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(Z,{year:t,month:a})})}}}]);
//# sourceMappingURL=74.0b7c7915.chunk.js.map